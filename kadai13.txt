【プログラムの説明】
・searchWord
const修飾子のついた文字配列str1、str2と、int型変数numを受け取る。
まずchar*型変数pを用意し、NULLで初期化。
int型変数sizeを用意し、whileでstr2の長さ(ナル文字を除く)を測る。
iをつかってループする。str1+iの指す内容がナル文字でない間、str1+iとstr2の指す内容が一致すればjで入れ子ループに入る。
jはsize回ループし、str1+i+jの指す内容とstr2+jの指す内容が一致しなければjのループからでる。jのループが続いてsize-1になれば、countを1増やし、flagを0にする。
countはstr1内にstr2が現れた回数で、flagは記録を残すか否かのスイッチである。r0であれば記録し、1であれば記録しない。
jのループが終了した後、countがnumでflagが0であればpにstr1+iを記録。countがnumでflagが0であればpにstr1+iを記録。
countがnumでflagが0であればpにstr1+iを記録。いずれも処理後flagを1にする。
なお、countがnumより小さければ、その旨を表示し、pにNULLを代入。
pを返す。
【感想】
あえて課題の説明にあった通りstrstrやstrcmp等を別々に実装せず一括で実装した。最初は一番外のループを*(str1+i)==*str2のwhile文にしてしまっていたり、入れ子ループ内のj==size-1の評価ぬんをj=size-1にしていたりとミスが目立った。
また、flag部分を書いていないせいでcountが増加しないタイミングでもpが更新されてしまう事態が発生した。色々と関数設計方法を見直さないといけないと思った。