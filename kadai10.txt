【プログラムの説明】
構造体complexを定義する。メンバはdouble型実部re、虚部imである。
・conj
complex構造体を引数にとり、実部はそのまま、虚部だけ-1をかけてcomplex構造体で返す。
・carg
complex構造体を引数にとり、関数atan(yを引数にtanx=yをみたすxを返す関数)にim/reを渡し、偏角を弧度法で求める。
また、弧度法で求めた偏角に対し180/(atan(1.0)*4)をかけてやれば度数法になるのでその値をdouble型で返す。
なお、re=im=0の場合は偏角が定義できないため-1を返す。
・cabs
complex構造体を引数にとり、((実部)^2+(虚部)^2)^(1/2)を返す。
・main
conjによって返される実部、虚部によって気持ち悪く表示されないように+-等の表示を変更。
cargの返り値は-1のときは偏角が定義されていない旨を表示。
【感想】
carg以外は簡単だった。atanなんて関数があるなら調べればよかった。atan使わなくても解けるのかななんて考えてみましたが無理でした。
また、特殊な場合の返り値を工夫する練習にもなった。
課題9同様構造体を知るには適した内容だったと思う。