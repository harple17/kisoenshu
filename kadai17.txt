【プログラムの説明】
LIST構造体を定義。値valと、次の要素を指すnextをint型変数で持つ。
・init関数
配列AとLIST構造体listを引数にとる。
まず(Aの長さ)+1がlistの長さより大きければ、headerを考えれば扱える整数の数がオーバーしてしまうので-1を返して終了。
それ以外であれば次の様に処理する。
list[0]、つまりheaderに値0、次の要素を指す1を代入。headerはダミー。
i=1~Nまでのforループでlist[i].valにAのi-1番目の要素、list[i].nextにi+1を代入。
最後のlist[N].nextには終了を示す定数ENを代入。
N以降のlist.nextの要素には未使用を示すUNを代入。
このようにlistを初期化する。
・insert関数
挿入する場所posと内容data、LIST構造体listを引数にとる。
まずlistに空の要素がないか調べるこの時点でlistの要素数より大きくなったら空の要素がないため代入しない。
list[i].valにdata、list[i].nextにlist[pos-1].nextを代入。
list[pos-1].nextにiを代入.
正常に動作したとして1を返す。
・delete関数
iで1からpos-1までdel0=list[del0].nextを続け、消去する要素の一つ手前の要素を指すnextをdel0に保存。
del1に消去する要素が指している先list[list[del0].next].nextを代入。
消去する要素が指している先list[list[del0].next].nextに未使用のUNを代入。
消去する要素の一つ手前の要素が指す先をdel1に。
【感想】
ちょっと問題文の意味が分からなくて手間取った。新しい考え方である、リストの基本構造が学べたと思う。どうやら課題17もリストの問題みたいなのでしっかり応用させていきたい。
また、今回ENとUNに定数を用いたが、これのせいで-1と-10が扱えない。何かもっといい方法はあるのだろうか。

